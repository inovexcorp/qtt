# This configuration controls the datasource health check service that monitors
# the availability of backend Anzo datasources.

# Enable or disable health checks globally
# Set HEALTH_CHECK_ENABLED=false to disable all health checking
enabled=$[env:HEALTH_CHECK_ENABLED;default=true]

# Health check interval (cron expression)
# Default: every 2 minutes (0 0/2 * * * ?)
# Previous default was 30 seconds (0/30 * * * * ?)
scheduler.expression=$[env:HEALTH_CHECK_INTERVAL_CRON;default=0 0/2 * * * ?]

# Consecutive failure threshold: Number of consecutive health check failures before
# automatically stopping all routes for a datasource. Set to 0 or -1 to disable automatic
# route stopping. Default is -1, indicating not to shut off routes.
# Recommended: Set to 3 (6 minutes of downtime with 2-minute checks) to auto-disable
# routes for persistently failing datasources.
consecutiveFailureThreshold=$[env:HEALTH_CHECK_FAILURE_THRESHOLD;default=-1]
