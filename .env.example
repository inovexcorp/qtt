# QTT Environment Configuration
# Copy this file to .env and update with your actual values
# NEVER commit .env to version control!

# =============================================================================
# Password Encryption Configuration (REQUIRED for production)
# =============================================================================
# These environment variables enable AES-256-GCM encryption for datasource passwords
# stored in the database. If not set, passwords will be stored in PLAIN TEXT.

# Base secret key for password encryption (32+ characters recommended)
# Generate with: openssl rand -base64 32
PASSWORD_ENCRYPTION_KEY=my-super-secret-encryption-key-change-me-in-production

# Salt for key derivation (16+ characters recommended)
# Generate with: openssl rand -base64 16
PASSWORD_ENCRYPTION_SALT=my-random-salt-value-change-me

# =============================================================================
# Database Configuration (Optional - defaults to embedded Derby)
# =============================================================================
# Override these to use PostgreSQL or SQL Server instead of Derby

# Database driver name
# Options: derby, PostgreSQL JDBC Driver, Microsoft JDBC Driver for SQL Server
#DB_DRIVER_NAME=derby

# JDBC connection URL
# Derby:      jdbc:derby:data/database;create=true
# PostgreSQL: jdbc:postgresql://localhost:5432/qtt_db
# SQL Server: jdbc:sqlserver://localhost:1433;databaseName=qtt_db
#DB_URL=jdbc:derby:data/database;create=true

# Database credentials
#DB_USER=user
#DB_PASSWORD=password

# =============================================================================
# Redis Configuration (Optional - for distributed caching)
# =============================================================================
# Uncomment if using Redis for caching

#REDIS_ENABLED=true
#REDIS_HOST=localhost
#REDIS_PORT=6379
#REDIS_PASSWORD=

# Request coalescing prevents duplicate backend calls when multiple requests
# arrive for the same cache key while the first is still fetching from the backend
#CACHE_COALESCING_ENABLED=true
#CACHE_COALESCING_TIMEOUT_MS=30000

# =============================================================================
# Security Notes
# =============================================================================
# 1. Generate strong random values for PASSWORD_ENCRYPTION_KEY and PASSWORD_ENCRYPTION_SALT
# 2. Use different keys for each environment (dev, staging, production)
# 3. Store production secrets in secure secrets management (Kubernetes Secrets, AWS Secrets Manager, etc.)
# 4. Add .env to .gitignore (already configured)
# 5. Rotate encryption keys periodically (requires re-encrypting all datasource passwords)
